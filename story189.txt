
The Tenth Doctor, River, Strackman Lux, and the remainder of their team flee the microscopic Vashta Nerada on a planet-sized Library. Other team members are consumed by the Vashta Nerada, their space suits animated by the swarms. During a respite, Lux explains that the Library was constructed by his grandfather for Lux's aunt, Charlotte Abigail Lux, who was diagnosed with an incurable disease at a young age. Lux's grandfather had a giant computer (CAL, from Charlotte's initials) constructed at the core of the Library to allow Charlotte's mind to live on among the collected works of humankind. The Doctor realises Charlotte's mind is struggling to cope after "saving" the thousands of patrons by transferring their physical forms to the computer core 100 years ago when the Vashta Nerada attacked.

Within the simulation of a contemporary Earth village, Donna is tended to by Dr. Moon (an avatar of the virus checker program) and introduced to Lee, whom she marries. Aware that time is skipping, Donna is alerted by Miss Evangelista, one of River's team members killed by the Vashta Nerada, that she is in a simulation.


In the core, the Doctor learns from the Vashta Nerada their forests were used to create the books of the Library. They now claim the Library as their own. The Vashta Nerada allow the Doctor one day to free the people trapped in the computer core, including Donna, after which the Library will belong to them. The Doctor prepares to hook himself to the computer terminal, aware this will likely kill him. River knocks him out and takes his place, insisting that the Doctor's death now would prevent her meeting him in her own past.

The patrons stored inside the computer rematerialise on the Library surface, where they teleport away to safety. Lee is unable to call out to Donna as he leaves. As the Doctor and Donna leave behind River's diary and sonic screwdriver, the Doctor wonders why his future self would give River his screwdriver. He finds a data recorder inside the mechanism which has preserved River's thought pattern. The Doctor saves her pattern to the core. River wakes up in the Earth simulation and is greeted by Charlotte and River's team members who had fallen victim to the Vashta Nerada. Charlotte assures her that the simulation is now a "good place" where she will be safe as the Doctor fixed the data core.


